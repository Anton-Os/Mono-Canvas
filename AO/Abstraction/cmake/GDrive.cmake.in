message(STATUS "Downloading from Google Drive")

set(GDRIVE_URLS)
set(GDRIVE_NAMES)

list(APPEND GDRIVE_URLS
    "https://drive.google.com/uc?export=download&id=0ByCFa5FWp8ZzY0RqaWRDejdIS1k"
)

list(APPEND GDRIVE_NAMES
    "LowPolyMill.fbx"
)

foreach(currentFile ${GDRIVE_NAMES})
    list(FIND GDRIVE_NAMES ${currentFile} currentIndex)
    list(GET GDRIVE_URLS ${currentIndex} currentUrl)
    if(NOT EXISTS @CMAKE_CURRENT_BINARY_DIR@/data/${currentFile})
        message(STATUS "Downloading ${currentFile}")
        file(DOWNLOAD
            "${currentUrl}"
            @CMAKE_CURRENT_BINARY_DIR@/data/${currentFile}
            SHOW_PROGRESS
        )
    else()
        message(STATUS "${currentFile} exists in \\data directory")
    endif()
endforeach()